jenkins:
  authorizationStrategy:
    roleBased:
      permissionTemplates:
        - name: "admin"
          permissions:
            - "Job/Cancel"
            - "Job/Build"
            - "Run/Update"
            - "Job/Delete"
            - "Job/Create"
            - "Job/Read"
            - "Job/Configure"
            - "Job/Workspace"
        - name: "builder"
          permissions:
            - "Job/Cancel"
            - "Job/Build"
            - "Job/Read"
            - "Job/Workspace"
      roleTemplates:
        - name: "team1"
          pattern: "folder/.*"
        - name: "team2"
          pattern: "folder2/.*"
      roles:
        global:
          - name: "admin"
            description: "Jenkins administrators"
            permissions:
              - "Overall/Administer"
            assignments:
              - "admin"
          - name: "readonly"
            description: "Read-only users"
            permissions:
              - "Overall/Read"
              - "Job/Read"
            assignments:
              - "authenticated"
        items:
          - assignments:
              - "qa1"
            name: "#QA-team1"
            pattern: "folder/.*"
            permissions:
              - "Run/Update"
              - "Job/Read"
              - "Run/Replay"
          - assignments:
              - "qa2"
            name: "#QA-team2"
            pattern: "folder2/.*"
            permissions:
              - "Run/Update"
              - "Job/Read"
              - "Run/Replay"
          - assignments:
              - "admin1"
            name: "#admin-team1"
            pattern: "folder/.*"
            permissions:
              - "Job/Cancel"
              - "Job/Build"
              - "Run/Update"
              - "Job/Delete"
              - "Job/Create"
              - "Job/Read"
              - "Job/Configure"
              - "Job/Workspace"
          - assignments:
              - "admin2"
            name: "#admin-team2"
            pattern: "folder2/.*"
            permissions:
              - "Job/Cancel"
              - "Job/Build"
              - "Run/Update"
              - "Job/Delete"
              - "Job/Create"
              - "Job/Read"
              - "Job/Configure"
              - "Job/Workspace"
          - assignments:
              - "developer1"
            name: "#builder-team1"
            pattern: "folder/.*"
            permissions:
              - "Job/Cancel"
              - "Job/Build"
              - "Job/Read"
              - "Job/Workspace"
          - assignments:
              - "developer2"
            name: "#builder-team2"
            pattern: "folder2/.*"
            permissions:
              - "Job/Cancel"
              - "Job/Build"
              - "Job/Read"
              - "Job/Workspace"
          - name: "FolderA"
            description: "Jobs in Folder A, but not the folder itself"
            pattern: "A/.*"
            permissions:
              - "Job/Configure"
              - "Job/Build"
              - "Job/Delete"
            assignments:
              - "user1"
              - "user2"
          - name: "FolderB"
            description: "Jobs in Folder B, but not the folder itself"
            pattern: "B.*"
            permissions:
              - "Job/Configure"
              - "Job/Build"
            assignments:
              - "user2"
        agents:
          - name: "Agent1"
            description: "Agent 1"
            pattern: "agent1"
            permissions:
              - "Agent/Build"
            assignments:
              - "user1"

  # System for test
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: "admin"
          password: "1234"
        - id: "user1"
          password: ""

  nodes:
    - dumb:
        mode: NORMAL
        name: "agent1"
        remoteFS: "/home/user1"
        launcher: jnlp
    - dumb:
        mode: NORMAL
        name: "agent2"
        remoteFS: "/home/user1"
        launcher: jnlp
